# ุณุณุชู ูุฏุฑุช ุฏุฑุฎูุงุณุช ูุง ูพุดุชุจุงู (ticket)
ุฏุฑ ุฏููู ุชูุฑู ุฏุฑุณ ุทุฑุงุญ ุดโฺฏุฑุง ุณุณุชูโูุง ูุฎูุงูู ููุฏุงุฑ ุจุง ุงูฺฏููุง ุทุฑุงุญ ุงุฑุงุฆู ุดุฏูุ ุจุดุชุฑ ุขุดูุง ุดูู. ูพุณ ุขูุงุฏู ุจุงุดุฏ ฺฉู ูุงูฺฏุงู ุนุธู ุงุฒ ฺฉุฏโูุง ุฏุฑ ุญุงู ุญุฑฺฉุช ุจู ุณู ุดูุงุณุช ุ ุฎูุงูู ุฏุฏ ฺู ู ุดูุฏ!

---
# **ุจุฎุด ฑ) ุชุดุฎุต ุฒุฑูุณุงุฆู ู ุงูฺฏููุง**

ุฏุฑ ุจุฑุฑุณ ฺฉุฏ ุงุฑุงุฆูโุดุฏู ูุดุงูุฏู ูโุดูุฏ ฺฉู ุณุณุชู ูุฏุฑุช ุชฺฉุชุ ุนูโุฑุบู ุนููฺฉุฑุฏ ุตุญุญุ ุงุฒ ูุธุฑ ุทุฑุงุญ ุดโฺฏุฑุง ุจุณุงุฑ ุถุนู ุงุณุช ู ุชูุฑุจุงู ุชูุงู ููุทูโูุง ุฏุฑ ุดุฑุทโูุง ุจุฒุฑฺฏ ู ุชฺฉุฑุงุฑ ููุดุชู ุดุฏูโุงูุฏ. ุจุง ุชูุฌู ุจู ุชูุถุญุงุช ูุณุฆูู ู ฺฉุฏ ููุฌูุฏุ ุณู ุฒุฑูุณุฆูู ุงุตู ุดูุงุณุง ุดุฏูุฏ ฺฉู ูุฑ ฺฉุฏุงู ูุงุฒููุฏ ฺฉ ุงูฺฏู ุทุฑุงุญ ุฎุงุต ูุณุชูุฏ. ุฏุฑ ุงุฏุงูู ูุฑ ุฒุฑูุณุฆูู ุฑุง ุจู ุทูุฑ ูุฎุชุตุฑ ุดุฑุญ ูโุฏููุ ุงูฺฏู ููุงุณุจ ุฑุง ุจุง ุฏูู ูพุดููุงุฏ ูโฺฉูู ู ุฑูุด ุงุนูุงู ุขู ุฑุง ุจุงู ูโฺฉูู.

## **ุฒุฑูุณุฆูู ุงูู: ุฑูุชุงุฑ ูุงุจุณุชู ุจู ุญุงูุช**
ูุฑ ุชฺฉุช ุฏุฑ ุทูู ุนูุฑ ุฎูุฏ ูพูุฌ ูุถุนุช ูุชูุงู (`NEW`ุ `ASSIGNED`ุ `IN_PROGRESS`ุ `RESOLVED`ุ `CLOSED`) ุฑุง ุท ูโฺฉูุฏ ู ุฑูุชุงุฑ ุณุณุชู ุฏุฑ ูุฑ ูุถุนุช ฺฉุงููุงู ูุชูุงูุช ุงุณุช. ุฏุฑ ฺฉุฏ ูุนูุ ุชูุงู ุงู ุฑูุชุงุฑูุง ุฏุงุฎู ูุชุฏ `handle()` ฺฉูุงุณ `TicketService` ุจุง ูพูุฌ `if` ุฌุฏุงฺฏุงูู ุฑู ูุชุบุฑ `currentStatus` ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช. ุงู ุณุงุฎุชุงุฑ ุจุงุนุซ ุดุฏู ฺฉู ุงุถุงูู ฺฉุฑุฏู ูุถุนุช ุฌุฏุฏ ุง ุชุบุฑ ุฑูุชุงุฑ ฺฉ ูุถุนุชุ ูุงุฒููุฏ ูุฑุงุด ูุณุชูู ุงู ูุชุฏ ุจุฒุฑฺฏ ุจุงุดุฏ.

*   **ุงูฺฏู ููุงุณุจ:** `State`
*   **ุฏูู:** ุงู ุงูฺฏู ุฏููุงู ุจุฑุง ุญุฐู ุดุฑุทโูุง ุจุฒุฑฺฏ ูุงุจุณุชู ุจู ุญุงูุช ุทุฑุงุญ ุดุฏู ู ุงูฺฉุงู ุงูุฒูุฏู ูุถุนุช ุฌุฏุฏ ุจุฏูู ุชุบุฑ ฺฉุฏ ููุฌูุฏ ุฑุง ูุฑุงูู ูโฺฉูุฏ (ุฑุนุงุช ุงุตู `OCP` ู `SRP`).
*   **ุฑูุด ุงุนูุงู:** ฺฉ ุงูุชุฑูุณ ุจู ูุงู `TicketState` ุงุฌุงุฏ ูโฺฉูู ฺฉู ูุชุฏ `handle(TicketContext context)` ุฑุง ุชุนุฑู ฺฉูุฏ. ุณูพุณ ูพูุฌ ฺฉูุงุณ ูุฌุฒุง (`NewState`ุ `AssignedState`ุ `InProgressState`ุ `ResolvedState`ุ `ClosedState`) ูโุณุงุฒู ฺฉู ูุฑ ฺฉุฏุงู ููุท ุฑูุชุงุฑ ูุฑุจูุท ุจู ูุถุนุช ุฎูุฏ ุฑุง ูพุงุฏูโุณุงุฒ ฺฉููุฏ. ฺฉูุงุณ `Ticket` ุฑุง ุจู `TicketContext` ุชุจุฏู ฺฉุฑุฏู ู ฺฉ ููุฏ `currentState` ุงุฒ ููุน `TicketState` ุจู ุขู ุงุถุงูู ูโฺฉูู. ุชูุงู ูุชุฏูุง ุชุบุฑ ูุถุนุช ุฏุฑ `Context` ููุท `currentState.handle(this)` ุฑุง ูุฑุงุฎูุงู ูโฺฉููุฏ ู ุชุบุฑ ูุถุนุช ุจุง ูุชุฏ `setState()` ุงูุฌุงู ูโุดูุฏ.

## **ุฒุฑูุณุฆูู ุฏูู: ูพุฑุฏุงุฒุด ู ูพุงุณุฎโุฏู ูุชูุงูุช ุจุฑ ุงุณุงุณ ฺฉุงูุงู ู ููุน ุชฺฉุช**
ุฑูุชุงุฑ ุฏุฑุงูุช ุชฺฉุชุ ุชุฎุตุต ุชูุ ุชููุฏ ูพุงุณุฎ ู ุญุช ูุชูโูุง ฺุงูพ ุจุฑุง ฺฉุงูุงูโูุง `WEB`ู`EMAIL` ู ุงููุงุน `BUG` ู ุบุฑ`BUG` ฺฉุงููุงู ูุชูุงูุช ุงุณุช. ุงู ุชูุงูุชโูุง ุฏุฑ ฺฉูุงุณ `TicketService` ุจู ุตูุฑุช `if-else`ูุง ูพุฑุงฺฉูุฏู ูพุฎุด ุดุฏู. ุฏุฑ ูุชุฌู ุงูุฒูุฏู ฺฉุงูุงู ุง ููุน ุฌุฏุฏ ูุงุฒููุฏ ุชุบุฑ ฺูุฏู ููุทู ุงุฒ ฺฉุฏ ุงุณุช.

*   **ุงูฺฏู ููุงุณุจ:** `Strategy`
*   **ุฏูู:** ุงู ุงูฺฏู ุจุฑุง ูุงุจู ุชุนูุถ ฺฉุฑุฏู ุฎุงููุงุฏูโุง ุงุฒ ุงูฺฏูุฑุชูโูุง (ุงูุฌุง ูพุฑุฏุงุฒุด ุจุฑ ุงุณุงุณ ฺฉุงูุงู ู ููุน) ุจุณุงุฑ ููุงุณุจ ุงุณุช ู ุงูฺฉุงู ุงูุฒูุฏู ุฑูุชุงุฑ ุฌุฏุฏ ุจุฏูู ุชุบุฑ ฺฉูุงุณ ุงุตู ุฑุง ูโุฏูุฏ.
*   **ุฑูุด ุงุนูุงู:** ุฏู ุงูุชุฑูุณ ุฌุฏุงฺฏุงูู ุชุนุฑู ูโฺฉูู: `TicketChannelStrategy` (ุจุฑุง ุฑูุชุงุฑูุง ูุฑุชุจุท ุจุง ฺฉุงูุงู) ู `TicketTypeStrategy` (ุจุฑุง ุฑูุชุงุฑูุง ูุฑุชุจุท ุจุง ููุน). ุณูพุณ ฺฉูุงุณโูุง `WebChannelStrategy`ุ `EmailChannelStrategy`ุ `BugTypeStrategy` ู `GenericTypeStrategy` ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูู. ุฏุฑ `TicketContext` ุฏู ููุฏ ุงุฒ ุงู ุฏู ุงุณุชุฑุงุชฺ ูฺฏู ูโุฏุงุฑู ู ูุชุฏ `handle()` ููุท ูุชุฏูุง ูุฑุจูุทู ุฑุง ุฑู ุงุณุชุฑุงุชฺโูุง ูุนู ูุฑุงุฎูุงู ูโฺฉูุฏ. ุงู ุฏู ุงุณุชุฑุงุชฺ ูููุน ุณุงุฎุช ุชฺฉุช (ุฏุฑ ฺฉุงุฑุฎุงูู) ุชุฒุฑู ูโุดููุฏ.

## **ุฒุฑูุณุฆูู ุณูู: ุงุฌุงุฏ ุขุจุฌฺฉุช ุชฺฉุช ูพฺุฏู ุจู ุตูุฑุช ูุฑุญููโุจูโูุฑุญูู**
ุณุงุฎุช ูุฑ ุชฺฉุช ุฌุฏุฏ ูุงุฒููุฏ ุชูุธู ููุฒูุงู `id`ุ ฺฉุงูุงูุ ููุนุ ูุถุนุช ุงููู (ููุดู `NEW`)ุ ุชุฒุฑู ุงุณุชุฑุงุชฺโูุง ู ุซุจุช ูุงฺฏ ุงููู ุงุณุช. ุฏุฑ ฺฉุฏ ูุนู ุงู ฺฉุงุฑ ุจู ุตูุฑุช ุฏุณุช ู ูพุฑุงฺฉูุฏู ุฏุฑ ุณุงุฒูุฏู `Ticket` ู ูุชุฏ `handle()` ุงูุฌุงู ูโุดูุฏ (ุฏุฑ `Ticket.java` ู `TicketService.java`). ุงูุฒูุฏู ฺฉุงูุงู ุง ููุน ุฌุฏุฏ ูุงุฒููุฏ ุชุบุฑ ุณุงุฒูุฏู ู `Main` ุงุณุช.

*   **ุงูฺฏู ููุงุณุจ:** `Factory Method`
*   **ุฏูู:** ุงู ุงูฺฏู ุงุฌุงุฏ ุขุจุฌฺฉุชโูุง ูพฺุฏู ุฑุง ุจุฏูู ุงูฺฉู ฺฉูุงูุช ุงุฒ ุฌุฒุฆุงุช ุณุงุฎุช ุขฺฏุงู ุจุงุดุฏุ ูุชูุฑฺฉุฒ ูโฺฉูุฏ ู ุงูฺฉุงู ฺฏุณุชุฑุด ุขุณุงู ุฑุง ูุฑุงูู ูโุขูุฑุฏ.
*   **ุฑูุด ุงุนูุงู:** ฺฉ ฺฉูุงุณ abstract ุจู ูุงู `TicketFactory` ุจุง ูุชุฏ `abstract createTicket(int id, String channel, String type)` ูโุณุงุฒู. ุณูพุณ ุฏู ุฒุฑฺฉูุงุณ `WebTicketFactory` ู `EmailTicketFactory` ุงุฌุงุฏ ูโฺฉูู ฺฉู ุฏุฑ ูุชุฏ `createTicket` ุงุจุชุฏุง ฺฉ `TicketContext` ูโุณุงุฒูุฏุ ูุถุนุช ุงููู ุฑุง `NewState` ูุฑุงุฑ ูโุฏููุฏุ ุงุณุชุฑุงุชฺโูุง ฺฉุงูุงู ู ููุน ููุงุณุจ ุฑุง ุชุฒุฑู ูโฺฉููุฏุ ูุงฺฏ ุงููู ุฑุง ุซุจุช ูโฺฉููุฏ ู ุฏุฑ ููุงุช ุดุก ุฑุง ุจุฑูโฺฏุฑุฏุงููุฏ. ุฏุฑ `Main` ููุท ฺฉุงู ุงุณุช ฺฉุงุฑุฎุงูู ููุงุณุจ ุฑุง ูุฑุงุฎูุงู ฺฉูู.
---

# **ุจุฎุด ฒ) ุชุฑุณู Class Diagram**
ุฏุฑ ุงู ุจุฎุด ูุทุงุจู ุฑุงูโุญู ฺฉู ุฏุฑ ุจุฎุด ฺฏุฐุดุชู ุจุฑุง ุจูุจูุฏ ฺฉุฏ ุงุฑุงุฆู ุฏุงุฏู ุ ฺฉ ุฏุงฺฏุฑุงู ฺฉูุงุณ ุชุฑุณู ู ฺฉูู.

![Class Diagram](images/Ticket-Class-Diagram.png)

ุฏุฑ ุงู ุฏุงฺฏุฑุงู ุณู ุงูฺฏู `State`ุ `Strategy` ู `Factory` ูุดุฎุตโุงูุฏ:ย`TicketContext`ยููุด `Context` ุฑุง ุฏุงุฑุฏ ู ุจุง ูฺฏู ุฏุงุดุชูย`currentState`ยุงุฒ ููุนย`TicketState`ยุฑูุชุงุฑ ูุฑ ูุถุนุช ุฑุง ุจู ฺฉูุงุณโูุง ุฌุฏุง (`NewState`ยุชุงย`ClosedState`) ูุงฺฏุฐุงุฑ ูโฺฉูุฏ ู ูุฑ State ูุถุนุช ุจุนุฏ ุฑุง ุชุนู ูโฺฉูุฏ. ุฑูุชุงุฑูุง ูุงุจุณุชู ุจู ฺฉุงูุงู ู ููุน ุจุง ุฏู ุงูุชุฑูุณย`TicketChannelStrategy`ยูย`TicketTypeStrategy`ยู ูพุงุฏูโุณุงุฒโูุงุดุงู ุฌุฏุง ุดุฏูโุงูุฏ ุชุง ุชุบุฑูพุฐุฑ ุจุงุดูุฏ ู ุณุงุฎุช ุดุก ุชฺฉุช ุจูโููุฑุงู ุชูุธู ูุถุนุช ุงููู ู ุชุฒุฑู ุงุณุชุฑุงุชฺโูุง ุฏุฑย`TicketFactory`ยู ฺฉุงุฑุฎุงููโูุงย`Web/Email`ยุงูุฌุงู ูโุดูุฏ ุชุง ููุทู ุงุฌุงุฏ ุงุฒ ุจูู ฺฉุฏ ุฌุฏุง ุจูุงูุฏ.

---
# **ุจุฎุด ณ) ุงุนูุงู ุงูฺฏู ูุง**
ุฏุฑ ุงู ุจุฎุด ูุฒ ุงูฺฏูโูุง `Factory`,`Strategy`,`State` ฺฉู ุฏุฑ ุจุฎุด ุงูู ุจุงู ุดุฏู ุงูุฏ ุฑุง ูพุงุฏูโุณุงุฒ ู ฺฉูู. ฺฉุฏ ูุฑุจูุท ุจู ุงูฺฏู ูุง ุฏุฑ ูพูุดู Ticketing ููุฌูุฏ ูุณุชูุฏ.

---

# **ุจุฎุด ด) ุชุญูู ุดโฺฏุฑุง**

ูพุณ ุงุฒ ุงุนูุงู ุงูฺฏููุง ุทุฑุงุญุ ุณุณุชู ุงุฒ ููุธุฑ ุงุตูู ุดโฺฏุฑุง ุจูุจูุฏ ุงูุชู ุงุณุช. ุงุตู SRP ุจุง ุฌุฏุงุณุงุฒ ูุณุฆููุชโูุง ุฏุฑ ฺฉูุงุณโูุง ูุฌุฒุง ุจุฑุง ูุฑ State ู Strategy ุฑุนุงุช ุดุฏู ู ุฏฺฏุฑ ฺฉ ฺฉูุงุณ ฺูุฏู ุฏูู ุจุฑุง ุชุบุฑ ูุฏุงุฑุฏ. ุงุตู OCP ูุฒ ุจู ุทูุฑ ฺฉุงูู ุงุนูุงู ุดุฏู ุงุณุช ุฒุฑุง ุจุฑุง ุงูุฒูุฏู ฺฉุงูุงู ุง ููุน ูพุงุณุฎ ุฌุฏุฏ ููุท ฺฉุงู ุงุณุช ฺฉ ฺฉูุงุณ ุฌุฏุฏ ุงุฌุงุฏ ฺฉูู ุจุฏูู ุงูฺฉู ฺฉุฏ ููุฌูุฏ ุชุบุฑ ฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ูุจูุง ุจุงุฏ ุฒูุฌุฑู if-else ุฑุง ุชุบุฑ ูโุฏุงุฏู. ุงุฒ ูุธุฑ DIP ูุฒ ูุงุจุณุชฺฏโูุง ูุนฺฉูุณ ุดุฏู ู ฺฉูุงุณ Ticket ุจู ุฌุง ูุงุจุณุชฺฏ ูุณุชูู ุจู String ูุง ุง ูพุงุฏูโุณุงุฒโูุง ูุดุฎุตุ ุจู interface ูุง ูุงุจุณุชู ุงุณุช. ููฺูู ุงุตู CRP ุจุง ูุฑุงุฑ ุฏุงุฏู ฺฉูุงุณโูุง ูุฑุชุจุท ุฏุฑ package ูุง ูุฌุฒุง ุฑุนุงุช ุดุฏู ู ูุฑ package ฺฉ ูุณุฆููุช ูุงุญุฏ ุฏุงุฑุฏ. ุฏุฑ ูุฌููุนุ ุณุณุชู ุจุงุฒุทุฑุงุญ ุดุฏู ุงุฒ ูุธุฑ ูฺฏูุฏุงุฑโูพุฐุฑุ ุชูุณุนูโูพุฐุฑ ู ุชุณุชโูพุฐุฑ ุจู ูุฑุงุชุจ ุจูุชุฑ ุงุฒ ูุณุฎู ูุจู ุงุณุช ู ุชูุงู ุงุตูู ุดโฺฏุฑุง ุฏุฑ ุขู ุฑุนุงุช ุดุฏู ุงุณุช.

---

## ๐งฉ ูฺฉุงุช ูพุงุงู

ุฏุฑ ฺฉุงุฑฺฏู ฺฉูุฒูโฺฏุฑ ุฑูุชู ุฏูุด

ุฏุฏู ุฏู ูุฒุงุฑ ฺฉูุฒู ฺฏูุง ู ุฎููุด


ูุงฺฏุงู ฺฉ ฺฉูุฒู ุจุฑุขูุฑุฏ ุฎุฑูุด

ฺฉู ฺฉูุฒูโฺฏุฑ ู ฺฉูุฒูโุฎุฑ ู ฺฉูุฒู ูุฑูุด!

https://ganjoor.net/khayyam/robaee/sh117
